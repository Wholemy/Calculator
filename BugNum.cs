namespace Wholemy {
	/// <summary>
	/// Большое дробное число, на базе делимого и делителя)
	/// </summary>
	/// <remarks>
	/// При MaxDepth равном 100, эффективная точность в вычислениях
	/// тригонометрических функций будет чуть более 50 знаков после запятой)
	/// Единственный рациональный способ сделать разную глубину, дублировать все содержимое
	/// структуры с другим именованием полностью и дополнить методы конвертирования значений из других структур)
	/// </remarks>
	public struct BugNum {
		#region #field# Atan0125 
		public static BugNum[] Atan0125;
		#endregion
		#region #field# SinCosTanFor 
		/// <summary>Указывает использованное значение MaxDepth для генерации)</summary>
		private static int SinCosTanFor;
		#endregion
		#region #field# SinCosTanDiv 
		/// <summary>Массив пар делителей, в двое больше чем максимальная длина)</summary>
		private static BugInt[] SinCosTanDiv;
		#endregion
		#region #field# SinCosTanMax 
		/// <summary>Максимальная вычисленная длина множителей)</summary>
		private static int SinCosTanMax;
		#endregion
		#region #method# SinCosTanGen 
		/// <summary>Генератор опорных множителей для синусов, косинусов и тангенсов)</summary>
		private static int SinCosTanGen() {
			uint P = 3;
			var D = new BugInt[200];
			var I = 0;
			BugInt FF = 2ul;
			var FI = 0;
			var J = 0;
			while (I < 100) {
				FF *= (P++ * P++);
				var A = FF;
				var XA = BugNum.One / FF;
				FF *= (P++ * P++);
				var B = FF;
				var XB = BugNum.One / FF;
				if (XA == 0 || XB == 0) break;
				D[J++] = A;
				D[J++] = B;
				I++;
			}
			SinCosTanMax = I;
			System.Array.Resize(ref D, J);
			SinCosTanDiv = D;
			SinCosTanFor = maxDepth;
			return I;
		}
		#endregion
		static BugNum() { InitDepthConsts(); }
		public static readonly BugNum Zer = new BugNum() { Numer = 0, Venom = 1 };
		public static readonly BugNum One = new BugNum() { Numer = 1, Venom = 1 };
		public static readonly BugNum Two = new BugNum() { Numer = 2, Venom = 1 };
		public static readonly BugNum Mon = new BugNum() { Numer = -1, Venom = 1 };
		public static readonly BugNum V05 = new BugNum() { Numer = 1, Venom = 2 };
		public static readonly BugNum Nan = new BugNum();
		public static readonly BugNum Pos = new BugNum() { Numer = 1 };
		public static readonly BugNum Neg = new BugNum() { Numer = -1 };
		#region #get# IsVal 
		public bool IsVal => Venom >= 1;
		#endregion
		#region #get# IsNan 
		/// <summary>Возвращает истину если значение не задано)</summary>
		#region #invisible# 
#if TRACE
		[System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
#endif
		#endregion
		public bool IsNan => Venom == 0 && Numer == 0;
		#endregion
		#region #get# IsInf 
		/// <summary>Возвращает истину если значение бесконечно)</summary>
		#region #invisible# 
#if TRACE
		[System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
#endif
		#endregion
		public bool IsInf => Venom == 0 && Numer != 0;
		#endregion
		#region #get# IsNeg 
		/// <summary>Возвращает истину если значение бесконечно негативно)</summary>
		#region #invisible# 
#if TRACE
		[System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
#endif
		#endregion
		public bool IsNeg => Venom == 0 && Numer < 0;
		#endregion
		#region #get# IsPos 
		/// <summary>Возвращает истину если значение бесконечно позитивно)</summary>
		#region #invisible# 
#if TRACE
		[System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
#endif
		#endregion
		public bool IsPos => Venom == 0 && Numer > 0;
		#endregion
		#region #field# Numer 
		public BugInt Numer;
		#endregion
		#region #field# Venom 
		public BugInt Venom;
		#endregion
		#region #property# MaxDepth 
		/// <summary>Максимальная глубина числа для его округления при инициализации)</summary>
		public static int MaxDepth {
			get { return maxDepth; }
			set { if (value < 0) value = -value; if (maxDepth != value) { maxDepth = value; InitDepthConsts(); } }
		}
		#endregion
		#region #method# InitDepthConsts 
		private static void InitDepthConsts() {
			maxVenom = BugInt.Pow(10, maxDepth);
			if (maxChars > maxDepth) maxChars = maxDepth;
			PI = new BugNum("3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632788659361533818279682303019520353018529689957736225994138912497217752834791315155748572424541506959508295331168617278558890750983817546374649393192550604009277016711390098488240128583616035637076601047101819429555961989467678374494482553797747268471040475346462080466842590694912933136770289891521047521620569660240580381501935112533824300355876402474964732639141992726042699227967823547816360093417216412199245863150302861829745557067498385054945885869269956909272107975093029553211653449872027559602364806654991198818347977535663698074265425278625518184175746728909777727938000816470600161452491921732172147723501414419735685481613611573525521334757418494684385233239073941433345477624168625189835694855620992192221842725502542568876717904946016534668049886272327917860857843838279679766814541009538837863609506800642251252051173929848960841284886269456042419652850222106611863067442786220391949450471237137869609563643719172874677646575739624138908658326459958133904780275900994657640789512694683983525957098258226205224894077267194782684826014769909026401363944374553050682034962524517493996514314298091906592509372216964615157098583874105978859597729754989301617539284681382686838689427741559918559252459539594310499725246808459872736446958486538367362226260991246080512438843904512441365497627807977156914359977001296160894416948685558484063534220722258284886481584560285060168427394522674676788952521385225499546667278239864565961163548862305774564980355936345681743241125150760694794510965960940252288797108931456691368672287489405601015033086179286809208747609178249385890097149096759852613655497818931297848216829989487226588048575640142704775551323796414515237462343645428584447952658678210511413547357395231134271661021359695362314429524849371871101457654035902799344037420073105785390621983874478084784896833214457138687519435064302184531910484810053706146806749192781911979399520614196634287544406437451237181921799983910159195618146751426912397489409071864942319615679452080951465502252316038819301420937621378559566389377870830390697920773467221825625996615014215030680384477345492026054146659252014974428507325186660021324340881907104863317346496514539057962685610055081066587969981635747363840525714591028970641401109712062804390397595156771577004203378699360072305587631763594218731251471205329281918261861258673215791984148488291644706095752706957220917567116722910981690915280173506712748583222871835209353965725121083579151369882091444210067510334671103141267111369908658516398315019701651511685171437657618351556508849099898599823873455283316355076479185358932261854896321329330898570642046752590709154814165498594616371802709819943099244889575712828905923233260972997120844335732654893823911932597463667305836041428138830320382490375898524374417029132765618093773444030707469211201913020330380197621101100449293215160842444859637669838952286847831235526582131449576857262433441893039686426243410773226978028073189154411010446823252716201052652272111660396665573092547110557853763466820653109896526918620564769312570586356620185581007293606598764861179104533488503461136576867532494416680396265797877185560845529654126654085306143444318586769751456614068007002378776591344017127494704205622305389945613140711270004078547332699390814546646458807972708266830634328587856983052358089330657574067954571637752542021149557615814002501262285941302164715509792592309907965473761255176567513575178296664547791745011299614890304639947132962107340437518957359614589019389713111790429782856475032031986915140287080859904801094121472213179476477726224142548545403321571853061422881375850430633217518297986622371721591607716692547487389866549494501146540628433663937900397692656721463853067360965712091807638327166416274888800786925602902284721040317211860820419000422966171196377921337575114959501566049631862947265473642523081770367515906735023507283540567040386743513622224771589150495309844489333096340878076932599397805419341447377441842631298608099888687413260472156951623965864573021631598193195167353812974167729478672422924654366800980676928238280689964004824354037014163149658979409243237896907069779422362508221688957383798623001593776471651228935786015881617557829735233446042815126272037343146531977774160319906655418763979293344195215413418994854447345673831624993419131814809277771038638773431772075456545322077709212019051660962804909263601975988281613323166636528619326686336062735676303544776280350450777235547105859548702790814356240145171806246436267945612753181340783303362542327839449753824372058353114771199260638133467768796959703098339130771098704085913374641442822772634659470474587847787201927715280731767907707157213444730605700733492436931138350493163128404251219256517980694113528013147013047816437885185290928545201165839341965621349143415956258658655705526904965209858033850722426482939728584783163057777560688876446248246857926039535277348030480290058760758251047470916439613626760449256274204208320856611906254543372131535958450687724602901618766795240616342522577195429162991930645537799140373404328752628889639958794757291746426357455254079091451357111369410911939325191076020825202618798531887705842972591677813149699009019211697173727847684726860849003377024242916513005005168323364350389517029893922334517220138128069650117844087451960121228599371623130171144484640903890644954440061986907548516026327505298349187407866808818338510228334508504860825039302133219715518430635455007668282949304137765527939751754613953984683393638304746119966538581538420568533862186725233402830871123282789212507712629463229563989898935821167456270102183564622013496715188190973038119800497340723961036854066431939509790190699639552453005450580685501956730229219139339185680344903982059551002263535361920419947455385938102343955449597783779023742161727111723643435439478221818528624085140066604433258885698670543154706965747458550332323342107301545940516553790686627333799585115625784322988273723198987571415957811196358330059408730681216028764962867446047746491599505497374256269010490377819868359381465741268049256487985561453723478673303904688383436346553794986419270563872931748723320837601123029911367938627089438799362016295154133714248928307220126901475466847653576164773794675200490757155527819653621323926406160136358155907422020203187277605277219005561484255518792530343513984425322341576233610642506390497500865627109535919465897514131034822769306247435363256916078154781811528436679570611086153315044521274739245449454236828860613408414863776700961207151249140430272538607648236341433462351897576645216413767969031495019108575984423919862916421939949072362346468441173940326591840443780513338945257423995082965912285085558215725031071257012668302402929525220118726767562204154205161841634847565169998116141010029960783869092916030288400269104140792886215078424516709087000699282120660418371806535567252532567532861291042487761825829765157959847035622262934860034158722980534989650226291748788202734209222245339856264766914905562842503912757710284027998066365825488926488025456610172967026640765590429099456815065265305371829412703369313785178609040708667114965583434347693385781711386455873678123014587687126603489139095620099393610310291616152881384379099042317473363948045759314931405297634757481193567091101377517210080315590248530906692037671922033229094334676851422144773793937517034436619910403375111735471918550464490263655128162288244625759163330391072253837421821408835086573917715096828874782656995995744906617583441375223970968340800535598491754173818839994469748676265516582765848358845314277568790029095170283529716344562129640435231176006651012412006597558512761785838292041974844236080071930457618932349229279650198751872127267507981255470958904556357921221033346697499235630254947802490114195212382815309114079073860251522742995818072471625916685451333123948049470791191532673430282441860414263639548000448002670496248201792896476697583183271314251702969234889627668440323260927524960357996469256504936818360900323809293459588970695365349406034021665443755890045632882250545255640564482465151875471196218443965825337543885690941130315095261793780029741207665147939425902989695946995565761218656196733786236256125216320862869222103274889218654364802296780705765615144632046927906821207388377814233562823608963208068222468012248261177185896381409183903673672220888321513755600372798394004152970028783076670944474560134556417254370906979396122571429894671543578468788614445812314593571984922528471605049221242470141214780573455105008019086996033027634787081081754501193071412233908663938339529425786905076431006383519834389341596131854347546495569781038293097164651438407007073604112373599843452251610507027056235266012764848308407611830130527932054274628654036036745328651057065874882256981579367897669742205750596834408697350201410206723585020072452256326513410559240190274216248439140359989535394590944070469120914093870012645600162374288021092764579310657922955249887275846101264836999892256959688159205600101655256375678");
			PId2 = PI / 2;
			PId4 = PI / 4;
			PId2x3 = PI + PId2;
			PIx2 = PI * 2;
			PIx4 = PI * 4;
			Atan0125 = new BugNum[] {
			 new BugNum("0.124354994546761435031354849163871025573170191769804089915114119115722267427566758623710594313353330326379051303438379043811163083968395046712243786871711388591024012509040027187881026549258769890009732659060116949325614773523801746537520505748216022480067154642191606580339021878242751620772423319053"), // atan 0.125
				new BugNum("0.244978663126864154172082481211275810914144098381184067127375914667355119587642096574534157668701991363834804490037118374295485420995059976958986960614203735201277087387581655721586715982638550632052208787306750143415623363482639563697808521591073245835238135076299955568901125830267713242413834032344"), // atan 0.25
				new BugNum("0.358770670270572220395920063926460499776975655880915779640398866754703184221129328743264409269425373070784067409590929393345243560747173249907537108424493444033423777686282604373252502182927658787913340803906015125648540199520013215809977596069670186085066625479842208680306666182802657666036095823949"), // atan 0.375
				new BugNum("0.463647609000806116214256231461214402028537054286120263810933088720197864165741705300600283984887892556529852251190837513505818181625011155471530569944105620719336266164880101532502755987925805516853889167478237286538793918012517199484013955838185115095021633306493872154609732078555557208601463322117"), // atan 0.5
				new BugNum("0.558599315343562435971508216401661270346447582534014806133636038141748236026976576275296187931530067095269075035644031236865562815297647082631300662961913479600091618423029042846759038301924006694797359287522583574973877135864930959866206992284004247217894337627759839459629083024468398758831890834449"), // atan 0.625
				new BugNum("0.643501108793284386802809228717322638041510591115312382865606118713512474811621088712816844701282748878014338754259478296535285941525268804919618564176029317286469519021209057487774310335622866431483203879449013259889135228212789717925363670959230724382781016848742429996007699166995582386427198115507"), // atan 0.75
				new BugNum("0.718829999621624505417014151525904653951419120018317085542779682861120009103024460275251040550161894241343359554029918647739995426771669446150333017513917047551859180392752901515607000482271305157288119536049675776421278621771823494446051078784165011452307440669791803633501260641984369958219348568731"), // atan 0.875
				new BugNum("0.785398163397448309615660845819875721049292349843776455243736148076954101571552249657008706335529266995537021628320576661773461152387645557931339852032120279362571025675484630276389911155737238732595491107202743916483361532118912058446695791317800477286412141730865087152613581662053348401815062285318"), // atan 1
				new BugNum("0.844153986113171002517844148271647506525942767944221101387238711044398321994744807659463730080760827734564709577616516462321393854464840747906737418106295818937192389658708759952026226765632792479934316467772650556712922044854646800844300416670270885625392279385814299855741461582628532317394893121381"), // atan 1.125
				new BugNum("0.896055384571343956174800718029937827024578444846840487366550591184599307312050963422237595769017240107048293425903727692696035620465770711094219990181165021635855131146048631793384757854885856115334234446523460263312415462757946287066577935239107563344279501969869299402177287611270375384500595961351"), // atan 1.25
				new BugNum("0.942000040379463664737937170534593586071660984936404827658504777422564676797557652538529990787470533544547626951690315587172117371930428038333816881583351897735885481215010760803394087531667147275772873308670028463167768473891256664959269692224084981169137249831762451836067893474460944431778828830247"), // atan 1.375
				new BugNum("0.982793723247329067985710611014666014496877453631628556761425088317988071549796035389706534372817311108165139702011936766229941039181884913678905347248423549414781772677049131832396039774289902058327360387867133597102314372701505170871857121049199816997735495513044695570278412714600652368387627334205"), // atan 1.5
				new BugNum("1.019141344266349734638342917023063648774403369126313523359011252248408937293624365281661082366905812105524111689373197651346900880707000030479208043160017343685327448682133040955443461997576541672568155359212274857807167033447660732110147561974040497732162921321653234349414466437182239833685154867489"), // atan 1.625
				new BugNum("1.051650212548373667459867312086299829630244300342044617536980296556117995759050169224911162283129115439438755805820054070822799447218417357655304926759922630029696544838800230252886538525110380923717510994016591522403202609548836145505548417424586252670110421255179350889558482688061601643843960463982"), // atan 1.75
				new BugNum("1.080839000541168310887156729217199820270296502925184776232720466819197963967820306164949097333654551263404434276566916574955951462785171161944705782835833088322587876575805949109606390346197376201086564639791987546135476337272544989497774539453454462902348013309130263167424911663574172143110293062431"), // atan 1.875
				new BugNum("1.107148717794090503017065460178537040070047645401432646676539207433710338977362794013417128686170641434544191005450315810041104123150279960391149134120134938005805785186089159020277066323548671948337093046927250546427929146225306917409377626797415839477802650155236302150617431245551139595028661248519"), // atan 2
				new BugNum("1.130953743979160446470933515536327804749327788485163133136919081051297550387403027244491999092213544022516472454403636325292843562980912699692463345487581269501097521261558806419047812425418802290738265734385876753284155685730955606957973230651403101458175105642174872378350307401334936785367457504438"), // atan 2.125
				new BugNum("1.15257199721566751804014986261275137974947275095300497222270433084534957074362602920773482438700389024286815849702516777369603912686185876824284915659775085814923713593565330690475409639201185982734065386630329649759154706529778563424149178650725356071925924384819677936094229840130318229194715869988"), // atan 2.25
				new BugNum("1.172273881128476386600594944133704614971218206953424594749242092107750847919125507175734725638477776476894508992418793401307121784245082287902048100502414976639949619717341858786592227958490161665759987122263224716493211199507673962665836433267443476025281401689287699878120589987377376747461400163091"), // atan 2.375
				new BugNum("1.19028994968253173292773377482931833760117898602945207291116667382970774531410139695515396657518559881303918593021547437473134663193546152342747285590205036050728592785714060213325635153376749050211055491411107456279259493739569451553310512180351518404245363738240974660409543382003372169481785957334"), // atan 2.5
				new BugNum("1.206817370285252530395511580056557630313325967905747294692047984243738086424913448434029753120457013014102577414277714779609031189713436873181451206205418840837049008599234368019397378100000552702608231328056074140033102259505460450152143783785674074969287974742508449757245571775445776769806378368539"), // atan 2.625
				new BugNum("1.222025323210989637041741743922570490882978396351013770475012847595661572126033950550199648588307251336997957131125876885122532200349343190264109058139487371870875189819237060013961428682392371998974184903296913533106187401895402994231866994719698325148217931708380826891981482292267456402899634591067"), // atan 2.75
				new BugNum("1.236059489478081941909451971109078698702712154598662096074316585861973880166429588797156007113424659994762362600479399327158731885160030966178405309748428575128791679841669331574527899622600466445572912637518477203880599225649352412453195043367137411537840984552817461588129987327444285554292568400347"), // atan 2.875
				new BugNum("1.249045772398254425829917077281090123077829404129896719054669236797151965737293954957608990320417159552066873879511414175279279334012656713402870421976225900081907291840364731808892667143663044249449380274680981203022155450131429257930709747155985592381433775037358959307223313740608905547347700892333"), // atan 3
				new BugNum("1.261093382252440419313940881247335772010148069207179627200428793907386569946024074947974758393992163371480857814554224492095566499309436809254857004171507681464943944821316783872244726224549621590553091736934194872659067832304298637515995233714072546135914250679673622653298756388919207892623072308263"), // atan 3.125
				new BugNum("1.272297395208717341296193749822480494068434305866460465694573637444856001157167935488304266584870749324540755059210316032910090874370131882448481386656917978275726089157167557237160045115430196620901312785184472629688089818559357169859485561370746697786468050478710152465166969016641333349710416479241"), // atan 3.25
				new BugNum("1.28274087974427074736288525113649553062494669958314526075286335560483797052201047050054985030798923799820506918137449654175004034200764765119468021208073205041906911440032300961754936550053795477876117358631082503502023883962139936294707822412902129935064195985528312017676010806339780159028737616685"), // atan 3.375
				new BugNum("1.292496667789785267903091421407081684585314084112001840048468590564509704746876459755749188649883681727758325144098865597681296844647739220286728047141156426674979879206701608512931135861214757932965250865338426557409969604635030650249253469970728225434645528295101247222206819649788120980052678345235"), // atan 3.5
				new BugNum("1.30162883400919614380478585036668559214136607461541708798789845294589359604228826064843968553432173844219564550354703767817230739920087927287122110934215198721107380227690779001613277315286080523523543619712672969501177009969291804535048002596717886253079630626000004494868302610602841937042333362856"), // atan 3.625
				new BugNum("1.310193935047555634256437689171905312273326461505463425478685874089888309379060623616218809947220508025577536364030092845249354519963764524753585216347790700628894576733788366875573736450714733166350768722206776268902210151579028174286190402692807680213943446205972010180944980481554524447650722800471"), // atan 3.75
				new BugNum("1.31824205101683704985933020232713625311551684595602480598652782368282137064267462460459666160332404276204008858499690392738617262583478920968807827805910485437575643922612968624716937479221148778133995164733104082954344282969266754775217731835572411561132579834060330489905757487983135081946364102543"), // atan 3.875
				new BugNum("1.325817663668032465059239210428475631184440601306368843360096381486553083555462402739483255002356542627239238766604034949251436883780231138903692743450036823523864963963387604831193106328835926833138773427098737689551099700755184553195583061044527708737586148385430218736326037493838983561216290538293"), // atan 4
				new BugNum("1.332960399337445867553849869733155809370018448226501681631429956447491470617378575146037839385463900036995723121552439013915857875663339851223363299085768397316416213341323831294495520306994760603367737314405081027276863141875729930979562366812736738752706407214057037243109268671170997377741105800613"), // atan 4.125
				new BugNum("1.33970565959899953932830375258955574110388230044645226727158923710518822838014419803837872464619841143230772988108671085261968140998606082232330441874343113833576948178944648118811699533604690361014731962211125432034968683416526089945186177593116590789229274486162640501802553794876210820234698614287"), // atan 4.25
				new BugNum("1.346085158380253931048940928251779625651189955613535215060114891156562628151886951518840760127358290112771152490285809665609259263784541113248853417338726427727642365553457555417986996654851838524858221079055319973094938711597271313977218557060007267734483663836977956773441030270184026357381410820596"), // atan 4.375
				new BugNum("1.352127380920954657189147941389812850984191743782616713803915122101065458565004890587951286354872632798378995495487434184336589544145339937350136094734338673207082872573670814741863782306187222580389301834234000689843552509707946481107186148388489085313040785231536257719518557075777772562060021378106"), // atan 4.5
				new BugNum("1.357857977215499475112489885964058528745923834019348741736187085822830671429216946353426273845204514638963412268044502434551800531685409687366099880444277045534374692652706029289557316524593298707851804949742588370703747060326099351195862492050440109084855916054122488049253422686791783038127581449719"), // atan 4.625
				new BugNum("1.363300100359693954289298527825099118994283167289729394337730710642188529378799137748569980468690246286199997028437615715045516712021714506114112195410613747632637896170877790251919510551996889021407787688161546867276442499543634772232143581881285587528106141592365123271410142218515329682256137257782"), // atan 4.75
				new BugNum("1.368474698416592877636638193694852955619089799238886361556724478272707714872451063050723120371968573972913819536325667441928226009204011914199910776884609083943412382747237704040020355425085567723136903807503275931136281501522971853315627685221317070593553034759298868141497640924588767983975048549242"), // atan 4.875
				new BugNum("1.37340076694501586086127192644496114865099959589970080896978335591287423316486071358131958463377048987844592518294979321909044241798105176011511420884793728867293130434940475899677369369292181413945911293374109815234777022365523100446823025290420161486150092967955056588756233227101117592774329634831"), // atan 5
				new BugNum("1.37809556813251104445366096412915515224940742918870684019997289705259494256070166506002515342426223251900154160866226218882494544004567350558562349557402918002316841857499637029661386905220489273527075495111969929508268920668443830958907448770339620125937753533153212480906206913501273261597968179142"), // atan 5.125
				new BugNum("1.382574821490125858059967417768568512556565212990307384810028655796220151381444466701396493086708916207547872074863559535448359227794886830730565487584687443762061744879551941322224225245798470468645046486931929266790085351395781832981252358609054895444469732021428028745119119085298170583499720923125"), // atan 5.25
				new BugNum("1.386852870257721454328938109704248603488336048314463002343634948153956053612294493070819683658095789601653881096489753652065392659195017812275052969022074012607113129301649455508975527209581450693007329760158031000203016500730829630353142589857010633089874029414623979389438688068089330635251503658369"), // atan 5.375
				new BugNum("1.390942827002418348642768694383643206085611162858360791432799266160593592497225115901800851954663677669589556753572512540517454544875033466414591709832316862158008798494640304597508267963777416550561667502434711859616381754037551598452041867514555345285064899919481616463829196231027707935997852647501"), // atan 5.5
				new BugNum("1.394856701342368782394812209204422264489480407653093004376679381395456450195778505373555777402796572597637577893033144667518851585914905063075044136781002001655111204710258144811264161752674447545102580854648465911656784149365135285043487165841278995568291662033905619800152715050916195935572919729608"), // atan 5.625
				new BugNum("1.398605512271957595012670081611428233573215244413498065948745290521009353887871792084930777394933165482778546746477563218266972498244757346570811033614213548672293616284340446714423691144985072910305222711311979096068016700733268746324570662460503506916876253061186454679736611419188206065421308175434"), // atan 5.75
				new BugNum("1.402199387185467010533030479433649267694352037623853320142534162328343676180500842986939601656254160895720946249106801811590192121469830206609580901027508925554733336674357705629812578176156660836992651289651235737203982937744302004590169346673698783539247639045340829231770648393340774731334167107657"), // atan 5.875
				new BugNum("1.405647649380269780952193401995807988100198039222525091469437866142762540963299357839130274772358426101077479202881153100677935553555439193805347451527457518455221747379890862335896843519592952792626762476148265749706562391903773864443283648062270096264158883138256323990677625525800693994102020787156"), // atan 6
				new BugNum("1.408958895556473694969907525079256928715571941934388269594723847882550489892201005681220092891371500005734233691369193513941679392565412701940016465231952246025345106634439047944172391539054745386912235294282561705915765491925572151319310556050627053302237135612603663189804040027890612550246253588107"), // atan 6.125
				new BugNum("1.412141064608495215367613671858489159962994844442295467171940120730338672276242536398246037551008735361237940792135415396104703040984862731155358554422057644393120960152488390600726303710067375230147837002340069261776248037021028276097495526654485379087182934680212446858498921385075891031592048882107"), // atan 6.25
				new BugNum("1.415201498817866907946255097583389439492918844192348780317042590782389514696105293511343846156946658658683580876724826945420158478022644469301594767485482950331300637658217662093278041641249952656807705666912356573875935917446934258454421100450122265246993364176420122817845968162257318636703723355281"), // atan 6.375
				new BugNum("1.418146998399631459403860303970098952371615362552635182169601398662570532647771443037301729188137463394733436277020909396196442562397340785409515913784538581221886466500171706859294748940784435582925201458673705758400279749844657051637944328202840881134896953966134433239983231648870265116225739714059"), // atan 6.5
				new BugNum("1.420983870221999256663304642461446666117558590493032774579470330339195382774259024423155914265184437129652611599295551488929447952181872381326535674245837753821997644735421913162354281057007701445779452440383458615144440746555277455740877444763875520985415710973670913038798626880386744642372627158575"), // atan 6.625
				new BugNum("1.423717971406494118901819046610729750308618687844845558455537654873874543018328678690161046651418097043323783157756690609081297688220575243039061278416919872178264782326086988494841298295435886332272621505784924119805910268887500579595997065574665113365640200481554017297582257940092114265646319025491"), // atan 6.75
				new BugNum("1.426354748420252639791806059728126569572529443182760818625769439198620940457321060369567725570599243951489884370000970843238574583286981958125597239718636110474298483070498563411506564814412590358275687676456086869487159748524741060882900362539954404817650742681055184919717863836969850663133745347862"), // atan 6.875
				new BugNum("1.428899272190732696418470074537198359090802940959088838109342266790466576383173338369825551036812015873551360382580054958308747093912914362850958416208149596649040544696693687764164221491360105164078694986651757176372496760331701776372059462277031201669193158579607517148621280399109645629158515537401"), // atan 7
				new BugNum("1.431356269703558898224019466840177931212178714351375309034967107561607998531623861945053554382445228608947526473264556018547868247504224833402797445673520951787691827442097725962586761037913912149376200742219414424494943425159799831016875069633088451215592785983807666056198697147848692392377564038407"), // atan 7.125
				new BugNum("1.4337301524847089866404719096698873648609738893518238120724909226734648548503205181796349227325395241517781298622561265592336540963252056724140272864612136648396278203345455417806957801294408901865873228203191399221767975543930205841225990795178066825781505139834301609520223195002818926241585537784"), // atan 7.25
				new BugNum("1.436025042317165523496427533715500878067489460245847589913153684338267526103579910026975179455889595858767532373265717835067254049264931133649311226824727220822080353456625455259598159995045755340746725144502523916967831975808725286689558000002767271975143692287870374250139798520371654563620865179478"), // atan 7.375
				new BugNum("1.438244794498222597961404247935481585538617969997672709473687068511693668885598293176901239414913518607437830410437823079248279007341842312056694429119634795084523898904655170042152858279868140488263865098196802059834316142980141337555342849427821890665532478750262043012922837485905875738443551517797"), // atan 7.5
				new BugNum("1.440393018905763217399730103139212686569420275600071193598884380460813616469745153228748542551227528271441253701088003666737991226640212411167201926214858129383667932618612501742421646529886512625616688065931828622084550463314266784615743603745759985503534460107782330524606247274205487592022119101988"), // atan 7.625
				new BugNum("1.442473099109101820025292059937729252512542609908977377021828346393904735370977045420751214532358654835176539182790631691259739318571241186945230807864427954274195377816786632967182199650154954686543912786727498801465397012924474775402014984904953223249046273945664167102570880659822388564082483309271"), // atan 7.75
				new BugNum("1.444488209731656365514845359850803702593803761140515310233300643077754850412400642717390901860996117832836251569373906138190040680900665651740350057106944988328574524223796371075516176281919601175787072288277981366586796182063912540428306481545844145442416080879253872090657518243005446918599321486259")  // atan 7.875
		};
		}
		#endregion
		#region #field# maxDepth 
		private static int maxDepth = 50;
		#endregion
		#region #field# maxVenom 
		private static BugInt maxVenom = BugInt.Pow(10, maxDepth);
		#endregion
		#region #field# maxChars 
		/// <summary>
		/// Максимальное количество выводимых в строку символов дроби) Значение больше MaxDepth не достижимо)
		/// </summary>
		/// <remarks>
		/// Как правило половина от дробной глубины числа эффективна при вычислении 
		/// значений сложных тригонометрических функций, затем и нужно это ограничение)
		/// Например, для вычисления квадратного корня, требуется вдвое больше число,
		/// но результат у него достоверный по всей вычисляемой длине дроби)
		/// </remarks>
		public static int MaxChars {
			get { return maxChars; }
			set { if (value < 0) value = -value; if (value > maxDepth) maxChars = maxDepth; else maxChars = value; }
		}
		private static int maxChars = maxDepth / 2;
		#endregion
		#region #field# PI 
		public static BugNum PI;
		#endregion
		#region #field# PId2 
		public static BugNum PId2;
		#endregion
		#region #field# PId4 
		public static BugNum PId4;
		#endregion
		#region #field# PId2x3 
		public static BugNum PId2x3;
		#endregion
		#region #field# PIx2 
		public static BugNum PIx2;
		#endregion
		#region #field# PIx4 
		public static BugNum PIx4;
		#endregion
		#region #new# (Value) 
		#region #through# 
#if TRACE
		[System.Diagnostics.DebuggerStepThrough]
#endif
		#endregion
		public BugNum(BugNum Value) : this(Value.Numer, Value.Venom) { }
		#endregion
		#region #new# (Numer, Venom) 
		/// <summary>Инициализация большого числа)</summary>
		/// <param name="Numer">Целое если Venom меньше или равен 0, в остальных случаях это делимое)</param>
		/// <param name="Venom">Делитель если больше или равен 1 и дробное если меньше или равен 0)</param>
		public BugNum(BugInt Numer, BugInt Venom) {
			if (Venom == 0) {
				Venom = 1;
			} else {
				var MV = maxVenom;
				if (Venom < 0) {
					if (Venom > MV) {
						var P = Venom / MV;
						if (P > 1) { Venom /= P; }
					}
					Numer = Venom + (Numer * MV);
					Venom = MV;
				} else if (Venom > MV) {
					var P = Venom / MV;
					if (P > 1) {
						Venom /= P;
						Numer /= P;
					}
				}
				if (Venom == 0) Venom = 1;
			}
			this.Numer = Numer;
			this.Venom = Venom;
		}
		#endregion
		#region #new# (#string # Value) 
		public BugNum(string Value) {
			if (Value == null || Value.Length == 0) { this.Venom = 0; this.Numer = 0; return; }
			char Char;
			var Length = Value.Length;
			if (Length == 3) {
				Char = Value[0];
				if (Char == 'n' || Char == 'N') {
					Char = Value[1];
					if (Char == 'a' || Char == 'A') {
						Char = Value[2];
						if (Char == 'n' || Char == 'N') { this.Venom = 0; this.Numer = 0; return; }
					} else if (Char == 'e' || Char == 'E') {
						Char = Value[2];
						if (Char == 'g' || Char == 'G') { this.Venom = 0; this.Numer = -1; return; }
					}
				} else if (Char == 'p' || Char == 'P') {
					Char = Value[1];
					if (Char == 'o' || Char == 'O') {
						Char = Value[2];
						if (Char == 's' || Char == 'S') { this.Venom = 0; this.Numer = 1; return; }
					}
				}
			}
			var Chars = new char[Length];
			var Split = -1;
			var Count = 0;
			var Minus = "";
			for (var Index = 0; Index < Length; Index++) {
				Char = Value[Index];
				if (Char == '-' && Count == 0) {
					Minus = "-";
				} else if (Char >= '0' && Char <= '9') {
					Chars[Count++] = Char;
				} else if (Split == -1 && (Char == '.' || Char == ',')) {
					Split = Count;
				}
			}
			if (Count == 0) { this.Venom = 0; this.Numer = 0; return; }
			if (Split == -1) { this.Numer = new BugInt(Minus + new string(Chars, 0, Count)); this.Venom = 1; return; }
			var Depth = Count - Split;
			while (Count > 0 && Depth > 0) { if (Chars[Count - 1] == '0') { Count--; Depth--; } else break; }
			if (Depth == 0) { this.Numer = new BugInt(Minus + new string(Chars, 0, Count)); this.Venom = 1; return; }
			if (Depth > maxDepth) { Depth = maxDepth; Count = Depth + Split; }
			this.Numer = new BugInt(Minus + new string(Chars, 0, Count)); this.Venom = BugInt.Pow(10, Depth);
		}
		#endregion
		#region #property# GcdNum 
		public BugNum GcdNum {
			get {
				var Numer = this.Numer;
				var Venom = this.Venom;
				var Minus = false;
				if (Numer != 0 && Venom != 0) {
					if (Numer < 0) { Numer = -Numer; Minus = true; }
					var Gcd = BugInt.Gcd(Numer, Venom);
					if (Gcd > 1) { Numer /= Gcd; Venom /= Gcd; }
				}
				if (Minus) Numer = -Numer;
				return new BugNum(Numer, Venom);
			}
		}
		public BugInt Gcd {
			get {
				return BugInt.Gcd(this.Numer, this.Venom);
			}
		}
		#endregion
		#region #method# GetGcd(Numer, Venom) 
		private static BugInt GetGcd(ref BugInt Numer, ref BugInt Venom) {
			var Num = Numer;
			var Ven = Venom;
			do { var X = Num % Ven; Num = Ven; Ven = X; } while (Ven != 0);
			Numer /= Num;
			Venom /= Num;
			return Num;
		}
		#endregion
		#region #method# Round(Count) 
		public BugNum Round(int Count) {
			var Numer = this.Numer;
			var Venom = this.Venom;
			if (Count == 0) return new BugNum(Numer / Venom, 1);
			if (Count < 0) {
				var Max = BugInt.Bit(-Count);
				if (Numer > Max) {
					var D = Venom / Max;
					if (D > 1) {
						Venom /= D;
						Numer /= D;
						if (Venom == 0) Venom = 1;
					}
				}
			} else {
				var Max = BugInt.Pow(10, Count);
				if (Venom > Max) {
					var D = Venom / Max;
					if (D > 1) {
						Venom /= D;
						Numer /= D;
					}
				}
			}
			return new BugNum(Numer, Venom);
		}
		#endregion
		#region #method# ToString 
		public override string ToString() {
			var Sign = "";
			var Numer = this.Numer;
			var Venom = this.Venom;
			if (Venom == 0) {
				if (Numer == 0) return "Nan";
				if (Numer < 0) return "Neg";
				return "Pos";
			}
			if (Numer < 0) { Numer = -Numer; Sign = "-"; }
			if (Venom > 0) {
				Sign += BugInt.DivMod(Numer, Venom, out var Num).ToString();
				Numer = Num * maxVenom / Venom;
				if (Numer > 0) {
					var Decimal = "";
					var Zeros = maxDepth - Numer.Digits;
					if (Zeros > 0) Decimal += new string('0', Zeros);
					Zeros = Numer.Zerone; if (Zeros < 0) Zeros = -Zeros;
					if (Zeros > 0) Numer /= BugInt.Pow(10u, Zeros);
					Decimal += Numer.ToString();
					if (Decimal.Length > maxChars) {
						Decimal = Decimal.Substring(0, maxChars);
						Zeros = Decimal.Length;
						while (Zeros > 0 && Decimal[Zeros - 1] == '0') Zeros--;
						if (Zeros < Decimal.Length) Decimal = Decimal.Substring(0, Zeros);
					}
					if (Decimal.Length > 0) {
						Sign += '.';
						Sign += Decimal;
					}
				}
			} else {
				Venom = -Venom;
				Sign += Numer.ToString();
				var Decimal = Venom.ToString();
				if (Decimal.Length > maxChars) {
					Decimal = Decimal.Substring(0, maxChars);
					var Zeros = Decimal.Length;
					while (Zeros > 0 && Decimal[Zeros - 1] == '0') Zeros--;
					if (Zeros < Decimal.Length) Decimal = Decimal.Substring(0, Zeros);
				}
				if (Decimal.Length > 0) {
					Sign += '.';
					Sign += Decimal;
				}
			}
			return Sign;
		}
		#endregion
		#region #operator# / 
		public static BugNum operator /(BugNum L, BugNum R) {
			if (R.Numer == 0) throw new System.DivideByZeroException("R");
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var Result = new BugNum(L.Numer * R.Venom, L.Venom * R.Numer);
			//if((LMinus && !RMinus) || (!LMinus && RMinus)) Result = -Result;
			if (LMinus ^ RMinus) Result = -Result;
			return Result;
		}
		public static BugNum operator /(BugNum L, int R) {
			if (R == 0) throw new System.DivideByZeroException("R");
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var Result = new BugNum(L.Numer, L.Venom * R);
			//if((LMinus && !RMinus) || (!LMinus && RMinus)) Result = -Result;
			if (LMinus ^ RMinus) Result = -Result;
			return Result;
		}
		#endregion
		#region #operator# % 
		public static BugNum operator %(BugNum L, BugNum R) {
			if (R.Numer == 0) throw new System.DivideByZeroException("R");
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var Result = new BugNum(L.Numer * R.Venom, L.Venom * R.Numer);
			Result = (L - new BugNum(Result.Numer - (Result.Numer % Result.Venom), Result.Venom) * R);
			if (LMinus) Result = R - Result;
			if (RMinus) Result = -Result;
			return Result;
		}
		public static BugNum operator %(BugNum L, int R) {
			if (R == 0) throw new System.DivideByZeroException("R");
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var Result = new BugNum(L.Numer, L.Venom * R);
			Result = (L - new BugNum(Result.Numer - (Result.Numer % Result.Venom), Result.Venom) * R);
			if (LMinus) Result = R - Result;
			if (RMinus) Result = -Result;
			return Result;
		}
		#endregion
		#region #operator# * 
		public static BugNum operator *(BugNum L, BugNum R) {
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var Result = new BugNum(L.Numer * R.Numer, R.Venom * L.Venom);
			//if((LMinus && !RMinus) || (!LMinus && RMinus)) Result = -Result;
			if (LMinus ^ RMinus) Result = -Result;
			return Result;
		}
		public static BugNum operator *(BugNum L, int R) {
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var Result = new BugNum(L.Numer * R, L.Venom);
			//if((LMinus && !RMinus) || (!LMinus && RMinus)) Result = -Result;
			if (LMinus ^ RMinus) Result = -Result;
			return Result;
		}
		#endregion
		#region #operator# - 
		public static BugNum operator -(BugNum L, BugNum R) {
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var OMinus = LMinus;
			BugNum Result;
			if (LMinus == RMinus) {
				if (L < R) {
					Result = new BugNum(R.Numer * L.Venom - L.Numer * R.Venom, L.Venom * R.Venom);
					OMinus = !OMinus;
				} else {
					Result = new BugNum(L.Numer * R.Venom - R.Numer * L.Venom, L.Venom * R.Venom);
				}
			} else {
				Result = new BugNum(L.Numer * R.Venom + R.Numer * L.Venom, L.Venom * R.Venom);
			}
			if (OMinus) Result = -Result;
			return Result;
		}
		#endregion
		#region #operator# + 
		public static BugNum operator +(BugNum L, BugNum R) {
			var LMinus = false;
			if (L < 0) { L = -L; LMinus = true; }
			var RMinus = false;
			if (R < 0) { R = -R; RMinus = true; }
			var OMinus = LMinus;
			BugNum Result;
			if (LMinus == RMinus) {
				Result = new BugNum(L.Numer * R.Venom + R.Numer * L.Venom, L.Venom * R.Venom);
			} else {
				if (L < R) {
					Result = new BugNum(R.Numer * L.Venom - L.Numer * R.Venom, L.Venom * R.Venom);
					OMinus = !OMinus;
				} else {
					Result = new BugNum(L.Numer * R.Venom - R.Numer * L.Venom, L.Venom * R.Venom);
				}
			}
			if (OMinus) Result = -Result;
			return Result;
		}
		#endregion
		#region #method# Pow(L, E) 
		public static BugNum Pow(BugNum L, int E) {
			if (L.Numer == 0) return L;
			if (E < 0) {
				BugInt numerator = L.Numer;
				BugInt numerator2 = BugInt.Pow(L.Venom, -E);
				BugInt denominator = BugInt.Pow(numerator, -E);
				return new BugNum(numerator2, denominator);
			}
			BugInt numerator3 = BugInt.Pow(L.Numer, E);
			BugInt denominator2 = BugInt.Pow(L.Venom, E);
			return new BugNum(numerator3, denominator2);
		}
		#endregion
		#region #implicit operator# (#double # Value) 
		#region #through# 
#if TRACE
		[System.Diagnostics.DebuggerStepThrough]
#endif
		#endregion
		public static implicit operator BugNum(double Value) {
			return new BugNum(Value);
		}
		#endregion
		#region #new# (Value) 
		#region #new# (#int # Value) 
		public BugNum(int Value) {
			this.Numer = Value;
			this.Venom = 1;
		}
		#endregion
		#region #new# (#uint # Value) 
		public BugNum(uint Value) {
			this.Numer = Value;
			this.Venom = 1;
		}
		#endregion
		#region #new# (#long # Value) 
		public BugNum(long Value) {
			this.Numer = Value;
			this.Venom = 1;
		}
		#endregion
		#region #new# (#ulong # Value) 
		public BugNum(ulong Value) {
			this.Numer = Value;
			this.Venom = 1;
		}
		#endregion
		#region #new# (#double # Value) 
		public BugNum(double Value) {
			var Minus = false;
			if (Value < 0) { Value = -Value; Minus = true; }
			var Num = new BugInt(0);
			var Cnt = 0;
			while (Value >= 1) {
				Value /= 10;
				Cnt++;
			}
			while (Cnt > 0) {
				Value *= 10;
				var Int = (int)Value;
				Num *= 10;
				Num += Int;
				Value -= Int;
				Cnt--;
			}
			var Pow = 0;
			while (Value > 0) {
				Pow++;
				Num *= 10;
				Value *= 10;
				var I = (uint)Value;
				Num += I;
				Value -= I;
			}
			this.Numer = Minus ? -Num : Num;
			this.Venom = BugInt.Pow(10, Pow);
		}
		#endregion
		#endregion
		#region #operator# +(#struct # value)
		#region #through# 
#if TRACE
		[System.Diagnostics.DebuggerStepThrough]
#endif
		#endregion
		public static BugNum operator +(BugNum value) {
			return new BugNum(+value.Numer, value.Venom);
		}
		#endregion
		#region #operator# -(#struct # value)
		#region #through# 
#if TRACE
		[System.Diagnostics.DebuggerStepThrough]
#endif
		#endregion
		public static BugNum operator -(BugNum value) {
			return new BugNum(-value.Numer, value.Venom);
		}
		#endregion
		#region #method# SqrtDebug(S) 
		public static BugNum SqrtDebug(BugNum S) {
			if (S == 0) return 0; if (S < 0) return 1;
			var SS = S.Numer;
			var VV = S.Venom;
			var Ret = SS / VV;
			var V = Ret;
			if (V > 1) {
				var T = V;
				var X = V / 2u;
				while (T > X) { T = X; X = (X + (V / X)) / 2u; }
				Ret = T;
			}
			var VenomInt = ((BugNum)VV);
			var VVV = BugInt.Pow(10, maxDepth);
			var D = maxDepth;
			while (--D >= 0) {
				Ret *= 10;
				VenomInt /= 100;
				var SSS = (BugInt)(SS / VenomInt);
				var A = 5u;
				var B = 3u;
				var C = 1u;
				var M = 0u;
				for (var I = 0; I < 4; I++) {
					var MA = M + A;
					var RM = Ret + MA;
					if ((RM * RM) <= SSS) { M = MA; }
					A = B; B = C;
				}
				Ret += M;
			}
			return new BugNum(Ret, VVV);
		}
		#endregion
		#region #method# Sqrt(X, Y, Depth = MaxDepth) 
		public static BugNum Sqrt(BugNum X, BugNum Y) {
			var S = X * X + Y * Y;
			if (S == 0) return 0; if (S < 0) return 1;
			var SS = S.Numer;
			var VV = S.Venom;
			var SV = SS * BugInt.Pow(10, maxDepth * 2) / VV;
			if (SV > 1) {
				var TT = SV;
				var XX = SV / 2u;
				while (TT != XX) { TT = XX; XX = (XX + (SV / XX)) / 2u; }
				SS = TT;
			}
			return new BugNum(SS, BugInt.Pow(10, maxDepth));
		}
		#endregion
		#region #method# Sqrt(S, Depth = MaxDepth) 
		public static BugNum Sqrt(BugNum S) {
			if (S == 0) return 0; if (S < 0) return 1;
			var SS = S.Numer;
			var VV = S.Venom;
			var SV = SS * BugInt.Pow(10, maxDepth * 2) / VV;
			if (SV > 1) {
				var TT = SV;
				var XX = SV / 2u;
				while (TT != XX) { TT = XX; XX = (XX + (SV / XX)) / 2u; }
				SS = TT;
			}
			return new BugNum(SS, BugInt.Pow(10, maxDepth));
		}
		#endregion
		#region #operator # == (#struct # L, #struct # R) 
		public static bool operator ==(BugNum L, BugNum R) {
			return L.Numer * R.Venom == R.Numer * L.Venom;
		}
		#endregion
		#region #operator # != (#struct # L, #struct # R) 
		public static bool operator !=(BugNum L, BugNum R) {
			return L.Numer * R.Venom != R.Numer * L.Venom;
		}
		#endregion
		#region #operator # > (#struct # L, #struct # R) 
		public static bool operator >(BugNum L, BugNum R) {
			return L.Numer * R.Venom > R.Numer * L.Venom;
		}
		#endregion
		#region #operator # >= (#struct # L, #struct # R) 
		public static bool operator >=(BugNum L, BugNum R) {
			return L.Numer * R.Venom >= R.Numer * L.Venom;
		}
		#endregion
		#region #operator # < (#struct # L, #struct # R) 
		public static bool operator <(BugNum L, BugNum R) {
			return L.Numer * R.Venom < R.Numer * L.Venom;
		}
		#endregion
		#region #operator # <= (#struct # L, #struct # R) 
		public static bool operator <=(BugNum L, BugNum R) {
			return L.Numer * R.Venom <= R.Numer * L.Venom;
		}
		#endregion
		#region #explicit operator # BugInt(BugNum L) 
		public static explicit operator BugInt(BugNum L) {
			return L.Numer / L.Venom;
		}
		#endregion
		#region #explicit operator # BugNum(BugInt L)
		public static implicit operator BugNum(BugInt L) {
			return new BugNum(L, 1);
		}
		#endregion
		#region #explicit operator # BugNum(#int # L)
		public static implicit operator BugNum(int L) {
			return new BugNum(L, 1);
		}
		#endregion
		#region #method# Rotate(CX, CY, BX, BY, AR, ED) 
		/// <summary>Поворачивает координаты вокруг центра по корню четверти круга
		/// где 90 градусов равно значению 1.0 а 360 градусов равно значению 4.0)</summary>
		/// <param name="CX">Центр по оси X)</param>
		/// <param name="CY">Центр по оси Y)</param>
		/// <param name="BX">Старт и возвращаемый результат поворота по оси X)</param>
		/// <param name="BY">Старт и возвращаемый результат поворота по оси Y)</param>
		/// <param name="AR">Корень четверти от 0.0 до 4.0 отрицательная в обратную сторону)</param>
		public static bool Rotate(BugNum CX, BugNum CY, ref BugNum BX, ref BugNum BY, BugNum AR) {
			var ED = maxDepth * 2;
			if (AR == 0) return false;
			var D = ED;
			var Len = Sqrt(CX - BX, CY - BY);
			if (Len == 0) return false;
			int R = (int)AR;
			if (R < 0) { AR = R - AR; R = R % 4 + 4; } else { AR = AR - R; R = R % 4; }
			var MX = BX; var MY = BY;
			if (R == 1) { MX = CY - BY + CX; MY = BX - CX + CY; } // 90
			else if (R == 2) { MX = CX - BX + CX; MY = CY - BY + CY; } // 180
			else if (R == 3) { MX = BY - CY + CX; MY = CX - BX + CY; } // 270
			var EX = BX; var EY = BY; BX = MX; BY = MY;
			if (AR > 0 && R >= 0 && R < 3) { EX = CY - MY + CX; EY = MX - CX + CY; } // 90
			while (AR > 0 && AR < 1 && ED > 0) {
				var L = Sqrt(MX - EX, MY - EY);
				if (L == 0) break;
				var ll = L / 2;
				if (AR < new BugNum(1, 2)) {
					EX = MX + (EX - MX) / L * ll;
					EY = MY + (EY - MY) / L * ll;
					ll = Sqrt(CX - EX, CY - EY);
					EX = CX + (EX - CX) / ll * Len;
					EY = CY + (EY - CY) / ll * Len;
					AR = AR * 2;
					BX = EX;
					BY = EY;
				} else {
					MX = EX + (MX - EX) / L * ll;
					MY = EY + (MY - EY) / L * ll;
					ll = Sqrt(CX - MX, CY - MY);
					MX = CX + (MX - CX) / ll * Len;
					MY = CY + (MY - CY) / ll * Len;
					AR = (AR - new BugNum(1, 2)) * 2; BX = MX; BY = MY;
				}
				ED--;
			}
			return true;
		}
		#endregion
		#region #method# GetAR(CX, CY, BX, BY, AX, AY, ED) 
		/// <summary>Возвращает корень поворота от 0.0 до 4.0)</summary>
		/// <param name="CX">Центр по оси X)</param>
		/// <param name="CY">Центр по оси Y)</param>
		/// <param name="BX">Старт по оси X)</param>
		/// <param name="BY">Старт по оси Y)</param>
		/// <param name="AX">Конец по оси X)</param>
		/// <param name="AY">Конец по оси Y)</param>
		/// <returns>Возвращает корень поворота от 0.0 до 4.0)</returns>
		/// <exception cref="System.InvalidProgramException">
		/// Возникает в случае непредусмотренного состояния, требует исправления)</exception>
		public static BugNum GetAR(BugNum CX, BugNum CY, BugNum BX, BugNum BY, BugNum AX, BugNum AY) {
			var ED = maxDepth * 2;
			var D = ED;
			var BL = Sqrt(CX - BX, CY - BY);
			if (BL == 0) return 0;
			var AL = Sqrt(CX - AX, CY - AY);
			if (AL == 0) return 0;
			AX = CX + (AX - CX) / AL * BL;
			AY = CY + (AY - CY) / AL * BL;
			AL = Sqrt(CX - AX, CY - AY);
			var X1 = CY - BY + CX; var Y1 = BX - CX + CY; // 90
			var X2 = CX - BX + CX; var Y2 = CY - BY + CY; // 180
			var X3 = BY - CY + CX; var Y3 = CX - BX + CY; // 270
			var L0 = Sqrt(BX - AX, BY - AY);
			var L1 = Sqrt(X1 - AX, Y1 - AY);
			var L2 = Sqrt(X2 - AX, Y2 - AY);
			var L3 = Sqrt(X3 - AX, Y3 - AY);
			BugNum R = 0, MX = 0, MY = 0, EX = 0, EY = 0;
			if (L0 < L2 && L0 < L3 && L1 < L2 && L1 <= L3) {
				R = 0; MX = BX; MY = BY; EX = X1; EY = Y1;
			} else if (L1 < L3 && L1 < L0 && L2 < L3 && L2 <= L0) {
				R = 1; MX = X1; MY = Y1; EX = X2; EY = Y2; L0 = L1; L1 = L2;
			} else if (L2 < L0 && L2 < L1 && L3 < L0 && L3 <= L1) {
				R = 2; MX = X2; MY = Y2; EX = X3; EY = Y3; L0 = L2; L1 = L3;
			} else if (L3 < L1 && L3 < L2 && L0 < L1 && L0 <= L2) {
				R = 3; MX = X3; MY = Y3; EX = BX; EY = BY; L1 = L0; L0 = L3;
			} else { throw new System.InvalidProgramException(); }
			BugNum AR = 1;
			while (L0 > 0 && (L2 = Sqrt(MX - EX, MY - EY)) > 0) {
				AR /= 2;
				L3 = L2 / 2;
				BX = MX + (EX - MX) / L2 * L3;
				BY = MY + (EY - MY) / L2 * L3;
				L2 = Sqrt(CX - BX, CY - BY);
				BX = CX + (BX - CX) / L2 * BL;
				BY = CY + (BY - CY) / L2 * BL;
				L3 = Sqrt(AX - BX, AY - BY);
				if (L0 < L1) {
					if (EX == BX && EY == BY) break; if (L1 <= L3) break;
					EX = BX; EY = BY; L1 = L3;
				} else {
					if (MX == BX && MY == BY) break; if (L0 <= L3) break;
					MX = BX; MY = BY; L0 = L3; R += AR;
				}
				ED--;
			}
			return R;
		}
		#endregion
		#region #field# TAtanArray 
		public static BugNum[] TAtanArray;
		#endregion
		#region #method# TAtanOfTan2(Y, X) 
		public static BugNum TAtanOfTan2(BugNum Y, BugNum X) {
			if (X == 0) {
				if (Y == 0) return 0;
				else if (Y > 0) return PId2; else return -PId2;
			}
			var A = TAtanOfTan(Y / X);
			if (X < 0) {
				if (Y >= 0) A += PI; else A -= PI;
			}
			return A;
		}
		#endregion
		#region #method# TAtanOfTan(X) 
		/// <summary>Функция возвращает обратный тангенс угла с проверкой и уточнением тангенсом)</summary>
		public static BugNum TAtanOfTan(BugNum X) {
			if (X == 0) return 0;
			var M = false;
			if (X < 0) { X = -X; M = true; }
			var RX = X;
			var L = false;
			var Y = 0;
			BugNum YY = 0;
			BugNum R = 0;
			if (X >= 8) { L = true; X = 1.0 / X; goto Next; }
			Y = (int)(X * 8);
			if (Y < 0) Y++;
			var XX = Y / new BugNum(8);
			X = (X - XX) / (X * XX + 1);
		Next:
			XX = X * X;
			var C = (((13852575 * XX + 216602100) * XX + 891080190) * XX + 1332431100) * XX + 654729075;
			var B = ((((893025 * XX + 49116375) * XX + 425675250) * XX + 1277025750) * XX + 1550674125) * XX + 654729075;
			R += (C / B) * X;
			if (Y > 0) {
				R += Atan0125[--Y];
			}
			if (L) R = PId2 - R;
			var tan = TTan(R);
			var dif = RX - tan;
			BugNum sum = 0;
			var posdif = +dif;
			while (dif != 0) {
				sum += TTan(dif);
				var RR = TAtan1(RX + sum);
				tan = TTan(RR);
				dif = RX - tan;
				var nexdif = +dif;
				if (nexdif < posdif) {
					R = RR;
					posdif = nexdif;
				} else {
					break;
				}
			}
			var max = maxDepth;
			while (dif < 0 && max-->0) {
				sum += TTan(dif);
				R = TAtan1(RX + sum);
				tan = TTan(R);
				dif = RX - tan;
			}
			max = maxDepth;
			while (dif > 0 && max-- > 0) {
				sum += TTan(dif);
				R = TAtan1(RX + sum);
				tan = TTan(R);
				dif = RX - tan;
			}
			tan = TTan(R);
			dif = RX - tan;
			sum = 0;
			posdif = +dif;
			while (dif != 0) {
				sum += TTan(dif);
				var RR = TAtan1(RX + sum);
				tan = TTan(RR);
				dif = RX - tan;
				var nexdif = +dif;
				if (nexdif < posdif) {
					R = RR;
					posdif = nexdif;
				} else {
					break;
				}
			}
			if (R < 0) R = -R;
			var Z = posdif.Venom.Zerone;
			if (Z > 0) {
				Z -= posdif.Numer.Digits - 1;
			}
			var c = 5u;
			var b = 3u;
			var a = 1u;
			var T = +TTan(R);
			var P = R;
			var I = new BugNum(1, Z > 0 ? BugInt.Pow(10, Z) : 10);
			while (T != RX) {
				if (T < RX) {
					var RI = R + I * c;
					var TT = +TTan(RI);
					if (TT > RX) {
						if (c == 1) {
							I /= 10; c = 5; b = 3;
						} else { c = b; b = a; }
					} else {
						R = RI;
						T = TT;
					}
				} else {
					var RI = R - I * c;
					var TT = TTan(RI);
					if (TT < RX) {
						if (c == 1) {
							I /= 10; c = 5; b = 3;
						} else { c = b; b = a; }
					} else {
						R = RI;
						T = TT;
					}
				}
				if (I == 0) { break; }
			}
			return M ? -R : R;
		}
		#endregion
		#region #method# TAtan(X) 
		/// <summary>Функция возвращает обратный тангенс угла)</summary>
		public static BugNum TAtan(BugNum X) {
			if (X == 0) return 0;
			var M = false;
			if (X < 0) { X = -X; M = true; }
			var RX = X;
			var L = false;
			var Y = 0;
			BugNum R = 0;
			if (X >= 8) { L = true; X = 1.0 / X; goto Next; }
			Y = (int)(X * 8);
			if (Y < 0) Y++;
			var XX = Y / new BugNum(8);
			X = (X - XX) / (X * XX + 1);
		Next:
			XX = X * X;
			var C = (((13852575 * XX + 216602100) * XX + 891080190) * XX + 1332431100) * XX + 654729075;
			var B = ((((893025 * XX + 49116375) * XX + 425675250) * XX + 1277025750) * XX + 1550674125) * XX + 654729075;
			R += (C / B) * X;
			if (Y > 0) {
				//X = Y * new BugNum(1, 8);
				//Y = 0; goto Next;
				R += Atan0125[--Y];
			}
			if (L) R = PId2 - R;
			return M ? -R : R;
		}
		#endregion
		#region #method# TAtan1(X) 
		private static BugNum TAtan1(BugNum X) {
			if (X == 0) return 0;
			var M = false;
			if (X < 0) { X = -X; M = true; }
			var Y = 0;
			X = 1.0 / X;
			var XX = X * X;
			var C = (((13852575 * XX + 216602100) * XX + 891080190) * XX + 1332431100) * XX + 654729075;
			var B = ((((893025 * XX + 49116375) * XX + 425675250) * XX + 1277025750) * XX + 1550674125) * XX + 654729075;
			var R = (C / B) * X;
			R = PId2 - R;
			return M ? -R : R;
		}
		#endregion
		#region #method# TAtan2(Y, X) 
		public static BugNum TAtan2(BugNum Y, BugNum X) {
			if (X == 0) {
				if (Y == 0) return 0;
				else if (Y > 0) return PId2; else return -PId2;
			}
			var A = TAtan(Y / X);
			if (X < 0) {
				if (Y >= 0) A += PI; else A -= PI;
			}
			return A;
		}
		#endregion
		#region #method# TAsin(X) 
		public static BugNum TAsin(BugNum X) {
			if (X < 0) X = -X;
			if (X > 1) return 1;
			return TAtan2(X, Sqrt(1 - X * X, 17));
		}
		#endregion
		#region #method# TCos(X) 
		public static BugNum TCos(BugNum X) {
			if (X < 0) { X = -X; }
			if (X > PIx2) {
				var XP = X / PIx2;
				X = PIx2 * (XP - (int)XP);
			}
			var M = (X > PId2 && X <= PId2x3);
			var XX = X * X;
			var XXX = XX;
			var R = 1 - (XX / 2);
			var I = 0;
			var J = 0;
			var Max = SinCosTanMax;
			while (Max == 0 || SinCosTanFor != maxDepth) { Max = SinCosTanGen(); }
			var Div = SinCosTanDiv;
			while (I < Max) {
				var XXA = XXX *= XX;
				var XXB = XXX *= XX;
				if (XXA == 0 && XXB == 0) break;
				XXA /= Div[J++]; XXB /= Div[J++];
				if (XXA == 0 && XXB == 0) break;
				R += (XXA - XXB);
				I++;
			}
			if (R < 0) R = -R;
			if (M) R = -R;
			return R;
		}
		#endregion
		#region #method# TSin(X) 
		public static BugNum TSin(BugNum X) {
			X -= PId2;
			if (X < 0) { X = -X; }
			if (X > PIx2) {
				var XP = X / PIx2;
				X = PIx2 * (XP - (int)XP);
			}
			var M = (X > PId2 && X <= PId2x3);
			var XX = X * X;
			var XXX = XX;
			var R = 1 - (XX / 2);
			var I = 0;
			var J = 0;
			var Max = SinCosTanMax;
			while (Max == 0 || SinCosTanFor != maxDepth) { Max = SinCosTanGen(); }
			var Div = SinCosTanDiv;
			while (I < Max) {
				var XXA = XXX *= XX;
				var XXB = XXX *= XX;
				if (XXA == 0 && XXB == 0) break;
				XXA /= Div[J++]; XXB /= Div[J++];
				if (XXA == 0 && XXB == 0) break;
				R += (XXA - XXB);
				I++;
			}
			if (R < 0) R = -R;
			if (M) R = -R;
			return R;
		}
		#endregion
		#region #method# TSinCos(X) 
		public static void TSinCos(BugNum X, out BugNum Sin, out BugNum Cos) {
			var S = false;
			var C = new BugNum(0);
		Next:
			if (S) X -= PId2;
			var x = X;
			if (x < 0) { x = -x; }
			if (x > PIx2) {
				var XP = x / PIx2;
				x = PIx2 * (XP - (int)XP);
			}
			var M = (x > PId2 && x <= PId2x3);
			var XX = x * x;
			var XXX = XX;
			var R = 1 - (XX / 2);
			var I = 0;
			var J = 0;
			var Max = SinCosTanMax;
			while (Max == 0 || SinCosTanFor != maxDepth) { Max = SinCosTanGen(); }
			var Div = SinCosTanDiv;
			while (I < Max) {
				var XXA = XXX *= XX;
				var XXB = XXX *= XX;
				if (XXA == 0 && XXB == 0) break;
				XXA /= Div[J++]; XXB /= Div[J++];
				if (XXA == 0 && XXB == 0) break;
				R += (XXA - XXB);
				I++;
			}
			if (R < 0) R = -R;
			if (M) R = -R;
			if (!S) { C = R; S = true; goto Next; }
			Cos = C;
			Sin = R;
		}
		#endregion
		#region #method# TTan(X) 
		public static BugNum TTan(BugNum X) {
			var S = false;
			BugNum C = 0;
		Next:
			if (S) X -= PId2;
			var x = X;
			if (x < 0) { x = -x; }
			if (x > PIx2) {
				var XP = x / PIx2;
				x = PIx2 * (XP - (int)XP);
			}
			var M = (x > PId2 && x <= PId2x3);
			var XX = x * x;
			var XXX = XX;
			var R = 1 - (XX / 2);
			var I = 0;
			var J = 0;
			var Max = SinCosTanMax;
			while (Max == 0 || SinCosTanFor != maxDepth) { Max = SinCosTanGen(); }
			var Div = SinCosTanDiv;
			while (I < Max) {
				var XXA = XXX *= XX;
				var XXB = XXX *= XX;
				if (XXA == 0 && XXB == 0) break;
				XXA /= Div[J++]; XXB /= Div[J++];
				if (XXA == 0 && XXB == 0) break;
				R += (XXA - XXB);
				I++;
			}
			if (R < 0) R = -R;
			if (M) R = -R;
			if (!S) { C = R; S = true; goto Next; }
			R /= C;
			return R;
		}
		#endregion
		#region #method# TCot(X) 
		public static BugNum TCot(BugNum X) {
			return (1.0 / TTan(X));
		}
		#endregion
		#region #int # #explicit operator # (#struct # V)
		public static explicit operator int(BugNum V) {
			return (int)(V.Numer / V.Venom);
		}
		#endregion
		#region #uint # #explicit operator # (#struct # V)
		public static explicit operator uint(BugNum V) {
			return (uint)(V.Numer / V.Venom);
		}
		#endregion
		#region #long # #explicit operator # (#struct # V)
		public static explicit operator long(BugNum V) {
			return (long)(V.Numer / V.Venom);
		}
		#endregion
		#region #ulong # #explicit operator # (#struct # V)
		public static explicit operator ulong(BugNum V) {
			return (ulong)(V.Numer / V.Venom);
		}
		#endregion
		#region #double # #explicit operator # (#struct # V)
		public static explicit operator double(BugNum V) {
			return V.Double;
		}
		#endregion
		#region #get# Double 
		public double Double {
			get {
				var Minus = false;
				var Numer = this.Numer;
				if (Numer < 0) { Numer = -Numer; Minus = true; }
				var Venom = this.Venom;
				if (Venom == 0) {
					if (Numer == 0) return double.NaN;
					if (Numer < 0) return double.NegativeInfinity;
					return double.PositiveInfinity;
				}
				var R = 0.0;
				if (Venom > 0) {
					var Int = BugInt.DivMod(Numer, Venom, out var Num);
					Numer = Num * maxVenom / Venom;
					var Zeros = maxDepth - Numer.Digits;
					R = Numer.ToDouble();
					while (Zeros-- > 0) {
						R /= 10;
					}
					if (Int > 0) R += (ulong)Int;
				} else {
					R = (-Venom).ToDouble();
					if (Numer > 0) R += (ulong)Numer;
				}
				if (Minus) R = -R;
				return R;
			}
		}
		#endregion
		#region #get# DoubleNum 
		public BugNum DoubleNum {
			get {
				return (BugNum)Double;
			}
		}
		#endregion
		#region #method# Rotate1(CX, CY, BX, BY, AR) 
		/// <summary>Поворачивает координаты #double# вокруг центра по корню четверти круга
		/// где 90 градусов равно значению 0.25, а 360 градусов равно значению 1)</summary>
		/// <param name="CX">Центр по оси X)</param>
		/// <param name="CY">Центр по оси Y)</param>
		/// <param name="BX">Старт и возвращаемый результат поворота по оси X)</param>
		/// <param name="BY">Старт и возвращаемый результат поворота по оси Y)</param>
		/// <param name="AR">Корень четверти от 0.0 до 1.0 отрицательная в обратную сторону)</param>
		public static void Rotate1(BugNum CX, BugNum CY, ref BugNum BX, ref BugNum BY, BugNum AR) {
			if (AR == 0) return;
			var TX = BX - CX;
			var TY = BY - CY;
			if (TX == 0 && TY == 0) return;
			var PI = PIx2 * AR;
			TSinCos(PI, out var SiN, out var CoS);
			var X = (CoS * TX - SiN * TY + CX);
			var Y = (SiN * TX + CoS * TY + CY);
			BX = X;
			BY = Y;
		}
		#endregion
		#region #method# GetaR1(CX, CY, BX, BY, AX, AY) 
		/// <summary>Возвращает корень поворота от 0.0 до 1.0)</summary>
		/// <param name="CX">Центр по оси X)</param>
		/// <param name="CY">Центр по оси Y)</param>
		/// <param name="BX">Старт по оси X)</param>
		/// <param name="BY">Старт по оси Y)</param>
		/// <param name="AX">Конец по оси X)</param>
		/// <param name="AY">Конец по оси Y)</param>
		/// <returns>Возвращает корень поворота от 0.0 до 1.0)</returns>
		public static BugNum GetaR1(BugNum CX, BugNum CY, BugNum BX, BugNum BY, BugNum AX, BugNum AY) {
			var R = (new BugNum(1, 2) / PI) * (TAtan2(AY - CY, AX - CX) - TAtan2(BY - CY, BX - CX));
			if (R < 0) R += 1;
			return R;
		}
		#endregion
		#region #method# EqualDigits(L, R) 
		public static int EqualDigits(BugNum L, BugNum R) {
			var LS = L.ToString();
			var RS = R.ToString();
			var C = LS.Length;
			var RC = RS.Length;
			if (C > RC) C = RC;
			var I = 0;
			while (I < C) { if (LS[I] == RS[I]) I++; else break; }
			return I;
		}
		#endregion
	}
}